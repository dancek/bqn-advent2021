in â† âŸ¨
  "NNCB"
  ""
  "CH -> B"
  "HH -> N"
  "CB -> H"
  "NH -> C"
  "HB -> C"
  "HC -> B"
  "HN -> C"
  "NN -> C"
  "BH -> H"
  "NC -> B"
  "NB -> B"
  "BN -> B"
  "BB -> N"
  "BC -> B"
  "CC -> N"
  "CN -> C"
âŸ©
in â†© â€¢FLines "14.txt"
Split1 â† {(ğ•©âŠğ•¨)(â†‘â‹ˆ1â†“â†“)ğ•©}
âŸ¨tmplâŸ©â€¿rulelines â† (<"") Split1 in
rules â† (â¥Šâˆ˜âŠ¢ËâŒ¾(1âŠ¸âŠ‘))Â¨' 'Split1Â¨rulelines
nodes â† âˆ§âŠ‘Â¨rules
Idx â† âŠ‘nodesâŠ<

rule â† âŠ‘rules
indices â† âˆ¾Â´{ğ•Š abâ€¿c:
  âŸ¨ (Idx ab)â€¿(Idx (âŠ‘ab)âˆ¾c)
    (Idx ab)â€¿(Idx câˆ¾(1â†“ab)) âŸ©
}Â¨rules


mat â† 1Â¨âŒ¾(indicesâŠ¸âŠ‘){ğ•©â€¿ğ•©â¥Š0}â‰ nodes
init â† +Ëâ‰nodesâ‰¡âŒœ<Ë˜2â†•tmpl

Step â† +ËmatâŠ¸Ã—

unique â† â·âŠ‘Â¨nodes
last â† unique=âŠ‘âŒ½tmpl
Letters â† {(uniqueâŠâŠ‘Â¨nodes)âŠ”ğ•©}

Score â† {
  counts â† last + +Â´Â¨Letters StepâŸğ•© init
  (âŒˆÂ´counts) - âŒŠÂ´counts}

â€¢Show Score 10
â€¢Show Score 40
