in â† â€¢FLines "24.txt"
# Here, apply understanding of the structure of the input.
# See https://github.com/dphilipson/advent-of-code-2021/blob/master/src/days/day24.rs

reps â† 14â€¿âˆ˜â¥Šin
checks â† â€¢BQNÂ¨6â†“Â¨5âŠË˜reps
offsets â† â€¢BQNÂ¨6â†“Â¨15âŠË˜reps
rules â† â‰(â†•14)âˆ¾checksâ‰offsets

Run â† {ğ•Š rules:
  stack â† âŸ¨âŸ©
  out â† âŸ¨âŸ©
  {ğ•Š iâ€¿câ€¿o:
    {c>0 ?
      stack â†© (<iâ€¿o)âˆ¾stack
    ;
      aâ€¿b â† âŠ‘stack
      stack â†© 1â†“stack
      d â† b+c
      out âˆ¾â†© <iâ€¿(1âŒˆ1+d)â€¿(9âŒŠ9+d)
      out âˆ¾â†© <aâ€¿(1âŒˆ1-d)â€¿(9âŒŠ9-d)
    }
    0
  }Ë˜rules
  >out
}

# index + valid range of each digit
ranges â† âˆ§Run rules

â€¢Show '0'+2âŠË˜ranges
â€¢Show '0'+1âŠË˜ranges
