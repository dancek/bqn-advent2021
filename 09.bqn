While â† {ğ•¨{ğ•Šâˆ˜ğ”¾âŸğ”½ğ•©}ğ•©@}Â´
Split â† ((Â¬-ËœâŠ¢Ã—Â·+`Â»âŠ¸>)âˆ˜â‰ âŠ”âŠ¢)

in â† (@+10)Split"
2199943210
3987894921
9856789892
8767896789
9899965678"
in â†© â€¢FLines "09.txt"

grid â† >-âŸœ'0'Â¨in

# local minimums along a single axis
LocalMinimums â† {ğ•Š xs:
  # create normal 3-windows *and* windows containing âˆ for the border
  windows â† <Ë˜(âˆâˆ¾2â†‘xs)âˆ¾(3â†•xs)âˆ¾(âŒ½âˆâˆ¾2â†‘âŒ½xs)
  # which windows have minimum value in the middle?
  1=âŠ‘âˆ˜â‹Â¨windows
}
â‹9â€¿4â€¿5
ms â† (LocalMinimumsË˜grid) âˆ§ â‰LocalMinimumsË˜â‰grid

â€¢Show +Â´+Ëms+msÃ—grid

area_ids â† (â‰¢ms)â¥Š(â¥Šms)Ã—1+âŠ’â¥Šms
areas â† area_ids + 9â‰ grid
Fill â† {
  0 ğ•Š b: b ;
  1 ğ•Š b: b ;
  a ğ•Š 0: 0 ;
  a ğ•Š b: a
}
While {ğ•¤â‹„âŠ‘1âˆŠâ¥Šareas}â€¿{ğ•¤
  areas â†© Fill`âŒ¾(âŒ½âˆ˜â‰) Fill`âŒ¾âŒ½ Fill`âŒ¾â‰ Fill`areas
}

largest3 â† 3â†‘âˆ¨â‰ Â¨1â†“âŠ”â¥Šareas
â€¢Show Ã—Â´largest3
